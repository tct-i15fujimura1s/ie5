<style>
u { color: transparent }
u:hover { color: inherit }
</style>

# ネットワークアーキテクチャ H25 前期末試験

## 1 ネットワーク・プログラミングの基礎知識

### 1-1 基本用語
* 語群: `HTML` `HTTP` `OSI参照` `TCP/IP` `インタフェース` `クライアント` `クライアント/サーバ` `サーバ` `プロトコル` `メソッド` `リクエスト` `レスポンス`

* <u>クライアント/サーバ</u>モデル: サービスの「要求」・「提供」を行うモデルの一つ
  * <u>クライアント</u>: サービスを要求する側
  * <u>サーバ</u>: サービスを提供する側
* <u>OSI参照</u>: ネットワーク・プログラミングにおけるプロセス間通信を規定する
  * <u>HTTP</u>: WWWにおける具体例

### 1-2 通信の実現方法
1. <u>リクエスト</u>: 要求側が提供側へ送信するメッセージや動作
2. <u>レスポンス</u>: 1.に応答して送信するメッセージ
3. <u>クライアント/サーバ・モデル</u>: 1.と2.の交換に基づく規約
4. 3.は、 プロセス-カーネル間のやりとり と プロセス-プロセス間のやりとり のどちらに関連深いか。
  * <u>プロセス-プロセス間のやりとり</u>

### 1-3 カーネルとプロセスの関係
通信における値の受け渡しは2種類あり、OSI参照モデルでは以下のように決められている。
* ICI (Interface Control Information)
* SDU (Service Data Unit)

1. `socket`: クライアントプログラムがICIをカーネルに渡すために使用したシステムコール
2. `write`: クライアントプログラムがSDUをカーネルに渡すために使用したシステムコール

* Hint1: N-ICI + N-SDU -> (N-SAP) -> N-ICI + N-PCI + N-SDU
* Hint2: PDU = Header(PCI) + SDU

## 2 ネットワーク・プログラミングの詳細

### クライアント側の処理
1. 前処理
2. 通信の端点の作成
3. 接続
4. HTTP読み書き
5. クローズ

### サーバ側の処理
4.-6.の間で繰り返す
1. 通信の端点の作成
2. 端点を登録
3. キューの作成
4. 接続受け入れ
5. HTTP読み書き
6. クローズ

1. クライアントがコネクションを生成する際に引数として渡さない情報は`アドレスファミリ`、`URL`、`接続先ポート番号`、`接続先IPアドレス`のうちどれか。
  * <u>URL</u>
2. クライアントが呼ぶsocket()関数は、サーバでも使用する。1.〜4.のうちどの手順で使用するか。
  * <u>1. 通信の端点の作成</u>
3. HTTP通信で使用するソケットの<b>特徴</b>でないものは`ストリーム型である`、`データグラム型である`、`転送にIPを用いる`、`信頼性がある`のうちどれか。
  * <u>データグラム型である</u>
4. 3.にある特徴を設定するために用いているシステムコールは何か。
  * <u>socket()</u>
5. OSI参照モデルにおけるプレゼンテーション層の役割を果たしている関数について、正しい説明を選びなさい。
  1. gethostbyname(): ホストのバイトオーダーからネットワークバイトオーダーに変換する
  2. gethostbyname(): ホスト名からIPアドレスに変換する
  3. htons(): ホストのバイトオーダーからネットワークバイトオーダーに変換する
  4. htons(): ホスト名からIPアドレスに変換する
  * <u>htons(): ホストのバイトオーダーからネットワークバイトオーダーに変換する</u>
6. IPアドレスの設定を格納するsockaddr_in構造体のメンバ: <u>sin_addr</u>
7. HTTPで使用するWell-Knownポート番号: <u>80</u>
8.
