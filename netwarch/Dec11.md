# ネットワークアーキテクチャ 12/11
* Ethernet
* ARP (アープ)

## Ethernet
* 同一セグメント内でデータを転送する方式の一つ
* IPとの違い
  * IP: End to End （通信の端点のみ、途中のノードは知らない）
  * Ethernet: Node by Node （ノード間通信）

### ARP
* Ethernetアドレスを知るためのプロトコル

#### ARP要求
* IPアドレスからEthernetアドレスを知る
* Ethernetのブロードキャストで問い合わせる

#### ARP応答
* (IPアドレス, Ethernetアドレス)の組を送信
* Ethernetのユニキャストで回答

#### ARPテーブル
* IPアドレスとEthernetアドレスの組を保存する
* ARP応答やARP要求を受け取ると更新する
* 5分程度で廃棄する （エージング）
  * 機器の入れ替えによるEthernetアドレスの変更に対応するため

### Ethernetフレーム
* ケーブルを流れる信号
* ２つのフォーマットがある
  * DIX (Ethernet II): DEC, Intel, Xerox が共同開発した
  * IEEE802.3
* ２つのフォーマットは混在が可能
  * 1500バイト以内はIEEE802.3として取り扱う
  * それ以上はDIXとして取り扱う

### ブロードキャスト型ネットワーク
* あるノードが送信したフレームは、ブロードキャスト ドメイン内のすべてのノードに転送される
* ユニキャストの場合
  * AがB宛にユニキャストで送信するとき
    * from A to B という情報を持ったフレームがすべてのノードに転送される
    * B以外のホストは受信しても捨てる
* ブロードキャストの場合
  * from A to all
* 人の話ににている
  * ある人が誰かに向けて話す（ユニキャスト）とき、その話は他の人にも聞こえるが、他の人は無視できる

#### ブロードキャスト　ドメイン
* ルータはブロードキャスト　ドメインを分割する

#### CSMA/CD
* CS (Carrier Sense): 誰が使っているか調べる
* MA (Multiple Access): 一つの空間を複数がアクセスする
* /CD (with Collision Detection): 衝突を検出する
* 衝突したら、ランダムな時間待って送信（相手が先に送信したらさらに待つ）

#### コリジョン　ドメイン
来週
